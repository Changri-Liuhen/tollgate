<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="444px" preserveAspectRatio="none" style="width:900px;height:444px;background:#FFFFFF;" version="1.1" viewBox="0 0 900 444" width="900px" zoomAndPan="magnify"><defs/><g><g id="行程获取"><rect fill="#FFA500" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="415" y="7"/><line style="stroke:#181818;stroke-width:0.5;" x1="415" x2="491" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="425" y="25.5352">行程获取</text></g><g id="车辆可通行"><rect fill="#808080" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="236" y="7"/><line style="stroke:#181818;stroke-width:0.5;" x1="236" x2="326" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="246" y="25.5352">车辆可通行</text></g><g id="车辆被识别"><rect fill="#ADD8E6" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="18" y="7"/><line style="stroke:#181818;stroke-width:0.5;" x1="18" x2="108" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="28" y="25.5352">车辆被识别</text></g><g id="费用已计算"><rect fill="#FFC0CB" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="580" y="7"/><line style="stroke:#181818;stroke-width:0.5;" x1="580" x2="670" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="590" y="25.5352">费用已计算</text></g><g id="已收费"><rect fill="#ADD8E6" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="758" y="7"/><line style="stroke:#181818;stroke-width:0.5;" x1="758" x2="820" y1="33.4883" y2="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="768" y="25.5352">已收费</text></g><g id="已打发票"><rect fill="#90EE90" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="790" y="134"/><line style="stroke:#181818;stroke-width:0.5;" x1="790" x2="866" y1="160.4883" y2="160.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="800" y="152.5352">已打发票</text></g><g id="已放行"><rect fill="#FF0000" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="817" y="261"/><line style="stroke:#181818;stroke-width:0.5;" x1="817" x2="879" y1="287.4883" y2="287.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="827" y="279.5352">已放行</text></g><g id="车辆驶出"><rect fill="#ADD8E6" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="787" y="388"/><line style="stroke:#181818;stroke-width:0.5;" x1="787" x2="863" y1="414.4883" y2="414.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="797" y="406.5352">车辆驶出</text></g><g id="车辆异常"><rect fill="#F08080" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="424" y="261"/><line style="stroke:#181818;stroke-width:0.5;" x1="424" x2="500" y1="287.4883" y2="287.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="434" y="279.5352">车辆异常</text></g><ellipse cx="18" cy="286" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="车辆进入"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="7" y="134"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="83" y1="160.4883" y2="160.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="17" y="152.5352">车辆进入</text></g><ellipse cx="678" cy="413" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="678.5" cy="413.5" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[3e37ec475ecbe94f7dfe101f20d02bd0]
reverse link 车辆进入 to *start--><g id="link_车辆进入_*start"><path d="M38.48,190.18 C32.43,218.19 23.8,258.14 19.97,275.89 " fill="none" id="车辆进入-backto-*start" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="39.73,185.4,33.9394,193.3667,38.6863,190.2898,41.7631,195.0367,39.73,185.4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[565397c3fcb32abff0c1f8574f9a1270]
reverse link 车辆被识别 to 车辆进入--><g id="link_车辆被识别_车辆进入"><path d="M52.56,63.16 C50.32,70.84 48.25,79.15 47,87 C44.55,102.34 44.03,119.78 44.13,133.54 " fill="none" id="车辆被识别-backto-车辆进入" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="54.3,58.42,47.8723,65.8823,52.8567,63.2072,55.5318,68.1915,54.3,58.42" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="48" y="100.5684">确认车辆标识</text></g><!--MD5=[fd671c86714b347038089bf2d92f29a0]
link 车辆被识别 to 车辆可通行--><g id="link_车辆被识别_车辆可通行"><path d="M108.43,32 C143.85,32 193.03,32 229.83,32 " fill="none" id="车辆被识别-to-车辆可通行" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="234.62,32,225.62,28,229.62,32,225.62,36,234.62,32" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="126.5" y="25.5684">黑名单查询通过</text></g><!--MD5=[39c003040a96b71efb2d03c397a2b769]
link 车辆被识别 to 车辆异常--><g id="link_车辆被识别_车辆异常"><path d="M94.37,57.46 C105.97,66.62 119.16,77.18 131,87 C181.68,129.04 187.66,148.3 243,184 C299.97,220.75 372.48,251.42 418.09,268.99 " fill="none" id="车辆被识别-to-车辆异常" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="422.51,271.07,415.5315,264.1201,417.8396,269.2847,412.675,271.5927,422.51,271.07" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="244" y="164.0684">黑名单查询未通过</text></g><!--MD5=[5d002ab50e1e3c6e05b4468710975908]
link 车辆可通行 to 行程获取--><g id="link_车辆可通行_行程获取"><path d="M326.19,32 C351.62,32 383.25,32 408.56,32 " fill="none" id="车辆可通行-to-行程获取" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="413.52,32,404.52,28,408.52,32,404.52,36,413.52,32" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="344.5" y="25.5684">读卡成功</text></g><!--MD5=[183ed0b399dcfdfd0265f08e6a906286]
link 行程获取 to 费用已计算--><g id="link_行程获取_费用已计算"><path d="M491.17,32 C515.46,32 547.22,32 573.7,32 " fill="none" id="行程获取-to-费用已计算" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="578.61,32,569.61,28,573.61,32,569.61,36,578.61,32" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="509.5" y="25.5684">计费成功</text></g><!--MD5=[23d46871862919dd973962bf6f8b4e52]
link 费用已计算 to 已收费--><g id="link_费用已计算_已收费"><path d="M670.25,32 C695.86,32 727.5,32 751.68,32 " fill="none" id="费用已计算-to-已收费" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="756.65,32,747.65,28,751.65,32,747.65,36,756.65,32" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="688" y="25.5684">收费成功</text></g><!--MD5=[d89a989838e8c3bb910079d5131cf382]
link 已收费 to 已打发票--><g id="link_已收费_已打发票"><path d="M796.61,57.4 C802.92,77.62 811.91,106.44 818.66,128.05 " fill="none" id="已收费-to-已打发票" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="820.41,132.66,821.5535,122.8777,818.9235,127.8861,813.9152,125.2561,820.41,132.66" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="811" y="100.5684">打印发票成功</text></g><!--MD5=[6d148902e4d33d7f0d6ba359bc8f04e9]
link 已打发票 to 已放行--><g id="link_已打发票_已放行"><path d="M831.9,184.4 C835.12,204.53 839.71,233.19 843.16,254.78 " fill="none" id="已打发票-to-已放行" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="844.11,259.66,846.6432,250.1425,843.3228,254.7224,838.743,251.402,844.11,259.66" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="840" y="227.5684">抬杆成功</text></g><!--MD5=[70b155e081e16987964d26de8b620811]
link 已放行 to 车辆驶出--><g id="link_已放行_车辆驶出"><path d="M843.51,311.4 C839.81,331.53 834.53,360.19 830.56,381.78 " fill="none" id="已放行-to-车辆驶出" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="829.48,386.66,835.0359,378.5278,830.3807,381.7418,827.1667,377.0867,829.48,386.66" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="838" y="354.5684">驶出</text></g><!--MD5=[fb830ddb8256670e320164e9b7527489]
link 车辆进入 to 车辆异常--><g id="link_车辆进入_车辆异常"><path d="M48.28,184.49 C51.72,200.23 58.73,219.78 73,231 C125.77,272.51 327.54,282.11 417.85,284.33 " fill="none" id="车辆进入-to-车辆异常" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="422.63,284.47,413.7238,280.2654,417.6313,284.3557,413.5409,288.2633,422.63,284.47" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="74" y="227.5684">未能识别</text></g><!--MD5=[acea1e719c6540b52c6c8f0bff8c099b]
link 车辆可通行 to 车辆异常--><g id="link_车辆可通行_车辆异常"><path d="M298.36,57.16 C331.78,103.71 404.99,205.62 441.06,255.84 " fill="none" id="车辆可通行-to-车辆异常" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="444.43,259.54,442.4442,249.8934,441.5198,255.4742,435.939,254.5498,444.43,259.54" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="388" y="164.0684">读卡失败</text></g><!--MD5=[b02115d420b9ce38d545273f74ae56d4]
link 行程获取 to 车辆异常--><g id="link_行程获取_车辆异常"><path d="M453.86,57.16 C455.51,103.33 459.11,203.98 460.91,254.62 " fill="none" id="行程获取-to-车辆异常" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="461.13,259.54,464.7932,250.3977,460.9444,254.5434,456.7987,250.6947,461.13,259.54" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="460" y="164.0684">计费失败</text></g><!--MD5=[f26bf24c9b110c9812a9489b42ae886c]
link 费用已计算 to 车辆异常--><g id="link_费用已计算_车辆异常"><path d="M609.37,57.16 C579.33,103.61 513.61,205.21 481.06,255.54 " fill="none" id="费用已计算-to-车辆异常" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="477.82,259.54,486.0645,254.1522,480.5339,255.3406,479.3455,249.81,477.82,259.54" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="559" y="164.0684">收费失败</text></g><!--MD5=[147a6d6bf405ae5819a35747594d3c6e]
link 已收费 to 车辆异常--><g id="link_已收费_车辆异常"><path d="M764.33,57.35 C732.34,88.37 674.23,142.86 620,184 C582.95,212.11 538.05,240.3 505.59,259.72 " fill="none" id="已收费-to-车辆异常" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="501.5,262.77,511.2772,261.5839,505.7912,260.2038,507.1713,254.7179,501.5,262.77" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="679" y="164.0684">打票失败</text></g><!--MD5=[276df32e52af1afa7da668a0ee1a72d2]
link 已打发票 to 车辆异常--><g id="link_已打发票_车辆异常"><path d="M797.63,184.46 C776.9,199.98 748.18,219.29 720,231 C648.59,260.68 559.04,274.71 506.41,280.81 " fill="none" id="已打发票-to-车辆异常" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="501.49,281.48,510.8879,284.4261,506.4573,280.909,509.9744,276.4784,501.49,281.48" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="752" y="227.5684">抬杆失败</text></g><!--MD5=[a33833a7f4f9d6e18bea8de5ec125f68]
link 车辆异常 to *end--><g id="link_车辆异常_*end"><path d="M500.12,309.06 C549.12,337.42 631.76,385.24 664.27,404.05 " fill="none" id="车辆异常-to-*end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="668.39,407.02,662.597,399.055,664.0603,404.5193,658.5959,405.9826,668.39,407.02" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="584" y="354.5684">处理完成</text></g><!--MD5=[c58698ad1f90a21e4d3e5845e4446d37]
reverse link *end to 车辆驶出--><g id="link_*end_车辆驶出"><path d="M694.08,413 C716.15,413 756.54,413 786.64,413 " fill="none" id="*end-backto-车辆驶出" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="689.1,413,698.1,417,694.1,413,698.1,409,689.1,413" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="724.5" y="406.5684">完成</text></g><!--MD5=[76cb718f40a0012a2be72eafdc0af2bb]
@startuml mtc-statemachine


state 行程获取 #Orange
state 车辆可通行 #Grey
state 车辆被识别 #LightBlue
state 费用已计算 #Pink
state 已收费 #LightBlue
state 已打发票 #lightGreen
state 已放行 #red
state 车辆驶出 #LightBlue
state 车辆异常 #LightCoral




[*] -up-> 车辆进入
车辆进入 -up-> 车辆被识别 : 确认车辆标识

车辆被识别 -right-> 车辆可通行 : 黑名单查询通过
车辆被识别 -down-> 车辆异常 : 黑名单查询未通过

车辆可通行 -> 行程获取 : 读卡成功

行程获取 -right->  费用已计算 : 计费成功
费用已计算 -right->  已收费 : 收费成功
已收费 - ->  已打发票 : 打印发票成功

已打发票 -down->  已放行 : 抬杆成功

已放行 -down-> 车辆驶出 : 驶出

车辆进入 -down-> 车辆异常 : 未能识别
车辆可通行 -down-> 车辆异常 : 读卡失败
行程获取 -down-> 车辆异常 : 计费失败
费用已计算 -down-> 车辆异常 : 收费失败
已收费 -down-> 车辆异常 : 打票失败
已打发票 -down-> 车辆异常 : 抬杆失败

车辆异常 - -> [*] : 处理完成
车辆驶出 -left-> [*] : 完成





@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>